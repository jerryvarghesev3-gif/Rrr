package com.connect.connection

import android.content.Intent
import android.net.Uri
import android.os.Bundle
import android.widget.Button
import android.widget.ImageView
import android.widget.TextView
import androidx.appcompat.app.AppCompatActivity

class SummaryActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_summary)

        // UI references
        val txtGateway   = findViewById<TextView>(R.id.txtGateway)
        val txtBed       = findViewById<TextView>(R.id.txtBed)
        val txtLocation  = findViewById<TextView>(R.id.txtLocation)
        val imgPreview   = findViewById<ImageView>(R.id.imgPreview)
        val btnDone      = findViewById<Button>(R.id.btnDone)

        // Get data from previous activity
        val gatewayId  = intent.getStringExtra(AActivity.EXTRA_GATEWAY).orEmpty()
        val bedId      = intent.getStringExtra(AActivity.EXTRA_BED).orEmpty()
        val locationId = intent.getStringExtra(BActivity.EXTRA_LOCATION).orEmpty()
        val imageUri   = intent.getStringExtra(AActivity.EXTRA_IMAGE_URI)

        // Show values
        txtGateway.text  = if (gatewayId.isNotBlank()) "Gateway: $gatewayId" else "Gateway: N/A"
        txtBed.text      = if (bedId.isNotBlank()) "Bed ID: $bedId" else "Bed ID: N/A"
        txtLocation.text = if (locationId.isNotBlank()) "Location: $locationId" else "Location: N/A"

        // Show QR captured image if any
        if (!imageUri.isNullOrBlank()) {
            imgPreview.setImageURI(Uri.parse(imageUri))
        }

        // Done â†’ back to MainActivity (launcher)
        btnDone.setOnClickListener {
            val intent = Intent(this, MainActivity::class.java).apply {
                addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_SINGLE_TOP)
            }
            startActivity(intent)
            finish()
        }
    }
}





<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:gravity="center_horizontal"
    android:padding="24dp"
    android:background="@android:color/white">

    <!-- Gateway -->
    <TextView
        android:id="@+id/txtGateway"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Gateway: "
        android:textSize="18sp"
        android:textColor="@android:color/black"
        android:padding="8dp" />

    <!-- Bed -->
    <TextView
        android:id="@+id/txtBed"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Bed ID: "
        android:textSize="18sp"
        android:textColor="@android:color/black"
        android:padding="8dp" />

    <!-- Location -->
    <TextView
        android:id="@+id/txtLocation"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Location: "
        android:textSize="18sp"
        android:textColor="@android:color/black"
        android:padding="8dp" />

    <!-- Preview Image -->
    <ImageView
        android:id="@+id/imgPreview"
        android:layout_width="200dp"
        android:layout_height="200dp"
        android:layout_marginTop="20dp"
        android:scaleType="centerCrop"
        android:background="#DDDDDD" />

    <!-- Done Button -->
    <Button
        android:id="@+id/btnDone"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="DONE"
        android:backgroundTint="#00C853"
        android:textColor="@android:color/white"
        android:layout_marginTop="24dp"
        android:padding="12dp" />

</LinearLayout>





