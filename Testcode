ll


Rectangle {
    id: connectionEthPopup
    property string sourcePathConfigFile

    // scale factor based on window size (design: 1920x1200)
    property real scaleFactor: Math.min(parent.width  / 1920,
                                        parent.height / 1200)

    // original popup size (half of window)
    width: parent.width / 2
    height: parent.height / 2
    anchors.centerIn: parent
    radius: width / 20
    z: 10           // over the main window
    visible: parent.visible

    border.color: borderColor
    border.width: 10
    color: colorDarkBlue

    // scale whole popup so it fits on smaller screens
    transform: Scale {
        origin.x: connectionEthPopup.width  / 2
        origin.y: connectionEthPopup.height / 2
        xScale: connectionEthPopup.scaleFactor
        yScale: connectionEthPopup.scaleFactor
    }

    // ------------- existing stuff continues here -------------
    property string borderColor: GUI.wWarningPopupColor
    property int canState    : APP.canState
    property int canDCEState : DCE.detectedOnCan
    property int canWAMState : WAM.detectedOnCan

    onCanStateChanged:      updateConnectorSFTP()
    onCanDCEStateChanged:   updateConnectorSFTP()
    onCanWAMStateChanged:   updateConnectorSFTP()

    function updateConnectorSFTP() {
        ...
    }

    // all your ColumnLayouts, ComboBox etc. stay as they were
}





Text {
    id: mainText
    font.bold: true
    font.pixelSize: 25
    color: "#FFFFFF"

    // keep text inside the box on all resolutions
    width: connectionEthPopup.width * 0.9   // 10% side margin
    wrapMode: Text.WordWrap
    horizontalAlignment: Text.AlignHCenter

    text: {   // your existing logic
        if ((APP.canState !== InterfaceCom.Connected) ||
            ((DCE.detectedOnCan === false) && (WAM.detectedOnCan === false)) ||
            ((DCE.detectedOnCan === true)  && (WAM.detectedOnCan === true))) {
            "Choose your product and communication type"
        } else {
            if (DCE.detectedOnCan === true) {
                "Configure the pairing system between Service Tool and the DCE."
            } else {
                "Configure the pairing system between Service Tool and the WCM."
            }
        }
    }

    anchors.horizontalCenter: parent.horizontalCenter
    anchors.top: parent.top
    anchors.topMargin: 30

    // REMOVE these if they are still there:
    // topPadding
    // clip: true
}
